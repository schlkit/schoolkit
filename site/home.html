<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#007AFF">
    <link rel="apple-touch-icon" href="/icons/icon-192x192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>SchoolKit - Home</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="home.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;500;600;700&display=swap">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/flowbite.min.js"></script>
</head>
<body>
    <nav class="fixed w-full z-20 top-0 start-0">
        <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
            <a href="/home.html" class="flex items-center space-x-3 rtl:space-x-reverse">
                <span class="logo self-center text-2xl whitespace-nowrap">SchoolKit</span>
            </a>
            <button data-collapse-toggle="navbar-dropdown" type="button" 
                    class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200" 
                    aria-controls="navbar-dropdown" aria-expanded="false">
                <span class="sr-only">Open main menu</span>
                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
                </svg>
            </button>
            <div class="hidden w-full md:block md:w-auto" id="navbar-dropdown">
                <ul class="flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-transparent">
                    <li><a href="/home.html" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0">Home</a></li>
                    <li><a href="/chat.html" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0">Chat</a></li>
                    <li><a href="/info.html" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0">Information</a></li>
                    <li><a href="/contact.html" class="block py-2 px-3 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0">Contact</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="home-container">
        <!-- News Banner -->
        <div class="news-banner">
            <!-- ... existing news banner content ... -->
        </div>

        <!-- New "What on earth" section -->
        <section class="what-is-this">
            <h2>Daily Message</h2>
            <div class="explanation-card">
                <div class="message-content">
                    <p style="text-align: center; margin-bottom: 25px; font-size: 1.3rem;">
                        You found this website somewhere and are wondering what it is.
                    </p>
                    
                    <p style="text-align: center; margin-bottom: 25px; font-size: 1.3rem;">
                        Yes, it was created by a student.
                    </p>
                    
                    <p style="text-align: center; margin-bottom: 25px; font-size: 1.3rem; color: var(--primary-color);">
                        Currently, there's a live chat to talk to other people who found this website. (scroll down)
                    </p>
                    
                    <p style="text-align: center; margin-bottom: 25px; font-size: 1.3rem; color: var(--primary-color);">
                        I would recommend downloading the app, this might get interesting.
                    </p>
                </div>
            </div>
        </section>

        <!-- Mini Blog -->
        <section class="mini-blog">
            <!-- ... existing blog content ... -->
        </section>

        <!-- Quick Stats -->
        <section class="quick-stats">
            <!-- ... existing stats content ... -->
        </section>

        <!-- Bottom Actions Section -->
        <section class="bottom-actions">
            <div class="actions-grid">
                <div class="download-app">
                    <h3>Download the app (really)</h3>
                    <p>New additions to the site will be added in the future.</p>
                    <button id="installPWA" class="pwa-button">
                        <svg class="pwa-icon" viewBox="0 0 24 24">
                            <path d="M13 5v6h6l-1 1-9 9-9-9-1-1h6V5h8m-2 12.5L16.5 12H14V7h-4v5H7.5l3.5 5.5z"/>
                        </svg>
                        Install App
                    </button>
                </div>
                <div class="chat-preview">
                    <div class="preview-header">
                        <h3>Live Chat</h3>
                        <a href="/chat.html" class="join-btn">Join Chat</a>
                    </div>
                    <div class="preview-messages" id="chatPreview">
                        <!-- Messages will be dynamically loaded -->
                        <div class="preview-message">
                            <span class="username">Loading...</span>
                            <span class="message">Fetching recent messages...</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script src="script.js"></script>
    <script src="home.js"></script>

    <!-- PWA Install Modal -->
    <div id="pwaModal" class="pwa-modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Install SchoolKit</h3>
                <button class="close-modal" onclick="closePwaModal()">Ã—</button>
            </div>
            <div class="install-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <p>Tap the share button in your browser</p>
                    <div class="icon">
                        <svg viewBox="0 0 24 24" width="24" height="24">
                            <path fill="currentColor" d="M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z"/>
                        </svg>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <p>Select 'Add to Home Screen'</p>
                    <div class="icon">
                        <svg viewBox="0 0 24 24" width="24" height="24">
                            <path fill="currentColor" d="M17 14h2v3h3v2h-3v3h-2v-3h-3v-2h3v-3zm-13-3h8v2H4v-2zm0 4h8v2H4v-2zm0-8h16v2H4V7zm0-4h16v2H4V3z"/>
                        </svg>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <p>That's it! SchoolKit will be installed</p>
                    <div class="icon">
                        <svg viewBox="0 0 24 24" width="24" height="24">
                            <path fill="currentColor" d="M9,16.17L4.83,12L3.41,13.41L9,19L21,7L19.59,5.59L9,16.17Z"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>